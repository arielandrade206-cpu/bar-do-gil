<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Comanda Profissional</title>
<style>
body{background:#0f0f0f;color:white;font-family:Arial;margin:0;padding:20px}
h1,h2{color:#00aaff}
button{background:#00aaff;border:none;padding:6px 10px;margin:3px;color:black;font-weight:bold;border-radius:6px;cursor:pointer}
button:hover{opacity:0.8}
input{padding:8px;border-radius:6px;border:none;margin:5px 0}
.card{background:#1c1c1c;padding:15px;border-radius:10px;margin-bottom:15px}
.item{display:flex;justify-content:space-between;margin:4px 0;flex-wrap:wrap}
.categoria{margin-top:20px;color:#00aaff}
</style>
</head>
<body>

<h1>üßæ Sistema de Comanda</h1>

<h3>Criar Mesa</h3>
<input type="text" id="novaMesa" placeholder="Nome ou n√∫mero da mesa">
<button onclick="criarMesa()">Criar</button>

<hr>

<h3>Pesquisar Item</h3>
<input type="text" id="search" placeholder="Pesquisar...">

<div id="cardapio"></div>

<hr>
<h2>Mesas</h2>
<div id="mesas"></div>

<hr>
<h2>Hist√≥rico</h2>
<div id="historico"></div>
<h3>Total Geral Fechado: R$ <span id="totalGeral">0</span></h3>

<script>
let categorias = {
"Espetos":[
["Gado",6],["Porco",6],["Frango com osso",6],["Frango com bacon",6],
["Cora√ß√£o",6],["Calabresa apimentada",6],["Calabresa defumada",6],
["P√£o de alho",6],["Queijo com bacon",7]
],

"Refris":[
["Sukita laranja 1L",8],["Sukita laranja 2L",11],["It! Guaran√°",8],
["It! Coca",8],["It! Laranja",8],["Pepsi 2L",10],["Pepsi 2L zero",10],
["Pepsi 1L",8],["Guaran√° Lata",5],["Guaran√° 1L",8],["Guaran√° 2L",13],
["Sukita uva 2L",11],["Coca lata",5],["Coca 1L",9],["Coca LS",8],
["Coca 2L",14],["Fys em geral",5],["It em geral",4],
["Pepsi zero lata",4],["Guaran√° zero",4],["Sukita uva",4],
["Sukita laranja",4],["Soda limonada",4]
],

"Cerveja lata/piriguete":[
["Skol",5],["Subzero",5],["Brahma",5],["Amstel",5],["Devassa",5],
["Lokal",4],["Ant√°rtica",5],["Crystal",5],["Caracu",7],
["Original",6],["Crystal baden",5],["Black princess",5],
["Brahma zero",5],["Brahma piriguete",5],["Skol piriguete",5],
["Original piriguete",5],["Crystal piriguete",5],["Petra piriguete",5]
],

"Long neck":[
["Heineken",9],["Budweiser",8],["Budweiser zero",8],
["Itaipava zero",8],["Cabar√© lim√£o",8],["Cabar√© frutas vermelhas",8]
],

"Cervejas 600ML":[
["Brahma 600ml",10],["Skol 600ml",10],["Subzero 600ml",8],
["Amstel 600ml",9],["Crystal 600ml",6],["Lokal 600ml",6],
["Heineken 600ml",12],["Budweiser 600ml",10],
["Original 600ml",10],["Antarctica 600ml",9],
["Itaipava 600ml",7],["Itaipava Premium",9],["Petra",8]
],

"Energ√©tico/outros":[
["TNT 269ML",8],["TNT 473ML",10],["Monster",14],
["Redbull",10],["√Ågua mineral",3],["√Ågua com g√°s",4],
["√Ågua de coco",7],["H2O 500ML",7],["H2O 1,5L",10],
["Skinka uva",5],["Skinka laranja",5],
["Skinka morango",5],["Beats frutas verdes",7]
],

"Por√ß√µes":[
["Mandioca P",1],["Mandioca M",3],["Mandioca G",5],["Mandioca GG",10],
["Feij√£o farofado P",1],["Feij√£o farofado M",3],
["Feij√£o farofado G",5],["Feij√£o farofado GG",10],
["Vinagrete",0]
]
};

let mesas = {};
let totalGeral = 0;

function renderCardapio(){
let div=document.getElementById("cardapio");
div.innerHTML="";
for(let categoria in categorias){
div.innerHTML+=`<div class="categoria"><h3>${categoria}</h3></div>`;
categorias[categoria].forEach(item=>{
div.innerHTML+=`
<div class="item">
${item[0]} - R$ ${item[1]}
<button onclick="addItem('${item[0]}',${item[1]})">+</button>
</div>`;
});
}
}

function criarMesa(){
let nome=document.getElementById("novaMesa").value;
if(!nome)return;
mesas[nome]=[];
renderMesas();
document.getElementById("novaMesa").value="";
}

function addItem(nome,preco){
let mesa=prompt("Adicionar em qual mesa?");
if(!mesas[mesa])return alert("Mesa n√£o existe");
let existente=mesas[mesa].find(i=>i.nome===nome);
if(existente){existente.qtd++}
else{mesas[mesa].push({nome,preco,qtd:1})}
renderMesas();
}

function alterarQtd(mesa,index,delta){
mesas[mesa][index].qtd+=delta;
if(mesas[mesa][index].qtd<=0)mesas[mesa].splice(index,1);
renderMesas();
}

function removerItem(mesa,index){
mesas[mesa].splice(index,1);
renderMesas();
}

function totalMesa(mesa){
return mesas[mesa].reduce((t,i)=>t+(i.preco*i.qtd),0);
}

function fecharConta(mesa){
let total=totalMesa(mesa);
totalGeral+=total;
document.getElementById("totalGeral").innerText=totalGeral.toFixed(2);
document.getElementById("historico").innerHTML+=
`<div class="card">Mesa ${mesa} - R$ ${total.toFixed(2)}</div>`;
mesas[mesa]=[];
renderMesas();
}

function renderMesas(){
let div=document.getElementById("mesas");
div.innerHTML="";
for(let mesa in mesas){
let total=totalMesa(mesa);
div.innerHTML+=`<div class="card"><h3>Mesa ${mesa}</h3>`;
mesas[mesa].forEach((item,i)=>{
div.innerHTML+=`
<div class="item">
${item.nome} x${item.qtd} - R$ ${(item.preco*item.qtd).toFixed(2)}
<div>
<button onclick="alterarQtd('${mesa}',${i},1)">+</button>
<button onclick="alterarQtd('${mesa}',${i},-1)">-</button>
<button onclick="removerItem('${mesa}',${i})">X</button>
</div>
</div>`;
});
div.innerHTML+=`
<h4>Total: R$ ${total.toFixed(2)}</h4>
<button onclick="fecharConta('${mesa}')">Fechar Conta</button>
</div>`;
}
}

document.getElementById("search").addEventListener("input",function(){
let filtro=this.value.toLowerCase();
document.querySelectorAll("#cardapio .item").forEach(item=>{
item.style.display=item.textContent.toLowerCase().includes(filtro)?"flex":"none";
});
});

renderCardapio();
</script>
</body>
</html>
